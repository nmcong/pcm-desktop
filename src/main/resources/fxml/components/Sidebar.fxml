<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox fx:id="sidebar" styleClass="sidebar" spacing="16" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.noteflix.pcm.ui.components.SidebarController">
    
    <padding>
        <Insets top="16" right="12" bottom="16" left="12"/>
    </padding>
    
    <!-- Main Menu -->
    <VBox spacing="4" styleClass="card">
        <padding>
            <Insets top="8" right="8" bottom="8" left="8"/>
        </padding>
        
        <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="flat, left-pill" onMouseClicked="#handleKnowledgeBase">
            <graphic>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <FontIcon iconLiteral="fth-book-open" iconSize="16"/>
                    <Label text="Knowledge Base"/>
                </HBox>
            </graphic>
        </Button>
        
        <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="flat, left-pill" onMouseClicked="#handleBatchJobs">
            <graphic>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <FontIcon iconLiteral="fth-clock" iconSize="16"/>
                    <Label text="Batch Jobs"/>
                </HBox>
            </graphic>
        </Button>
        
        <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="flat, left-pill" onMouseClicked="#handleDBObjects">
            <graphic>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <FontIcon iconLiteral="fth-database" iconSize="16"/>
                    <Label text="DB Objects"/>
                </HBox>
            </graphic>
        </Button>
        
        <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="flat, left-pill" onMouseClicked="#handleSettingsMenu">
            <graphic>
                <HBox spacing="12" alignment="CENTER_LEFT">
                    <FontIcon iconLiteral="fth-sliders" iconSize="16"/>
                    <Label text="Settings"/>
                </HBox>
            </graphic>
        </Button>
    </VBox>
    
    <!-- Favorites Section -->
    <VBox spacing="8">
        <HBox alignment="CENTER_LEFT" spacing="8">
            <FontIcon iconLiteral="fth-star" iconSize="16"/>
            <Label text="ƯU THÍCH" styleClass="title-4"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
        
        <VBox styleClass="card" spacing="4">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>
            
            <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="8" right="8" bottom="8" left="8"/>
                </padding>
                <StackPane style="-fx-background-color: -color-accent-emphasis; -fx-background-radius: 6px;" minWidth="36" minHeight="36" maxWidth="36" maxHeight="36">
                    <Label text="CS" style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                </StackPane>
                <VBox spacing="2" HBox.hgrow="ALWAYS">
                    <Label text="Customer Service" styleClass="text-bold"/>
                    <Label text="24 screens • Active" styleClass="text-small, text-muted"/>
                </VBox>
            </HBox>

            <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="8" right="8" bottom="8" left="8"/>
                </padding>
                <StackPane style="-fx-background-color: -color-success-emphasis; -fx-background-radius: 6px;" minWidth="36" minHeight="36" maxWidth="36" maxHeight="36">
                    <Label text="OM" style="-fx-text-fill: white; -fx-font-size: 13px; -fx-font-weight: bold;"/>
                </StackPane>
                <VBox spacing="2" HBox.hgrow="ALWAYS">
                    <Label text="Order Management" styleClass="text-bold"/>
                    <Label text="18 screens • Active" styleClass="text-small, text-muted"/>
                </VBox>
            </HBox>
        </VBox>
    </VBox>
    
    <!-- All Projects Section -->
    <VBox spacing="8" VBox.vgrow="ALWAYS">
        <HBox alignment="CENTER_LEFT" spacing="8">
            <FontIcon iconLiteral="fth-folder" iconSize="16"/>
            <Label text="DỰ ÁN" styleClass="title-4"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button onAction="#handleNewProject" styleClass="flat, small">
                <graphic>
                    <FontIcon iconLiteral="fth-plus" iconSize="14"/>
                </graphic>
                <tooltip>
                    <Tooltip text="New Project"/>
                </tooltip>
            </Button>
        </HBox>
        
        <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="edge-to-edge">
            <VBox styleClass="card" spacing="4">
                <padding>
                    <Insets top="8" right="8" bottom="8" left="8"/>
                </padding>
                
                <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <StackPane style="-fx-background-color: -color-accent-emphasis; -fx-background-radius: 6px;" minWidth="32" minHeight="32" maxWidth="32" maxHeight="32">
                        <Label text="CS" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="Customer Service"/>
                        <Label text="24 screens" styleClass="text-small, text-muted"/>
                    </VBox>
                </HBox>

                <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <StackPane style="-fx-background-color: -color-success-emphasis; -fx-background-radius: 6px;" minWidth="32" minHeight="32" maxWidth="32" maxHeight="32">
                        <Label text="OM" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="Order Management"/>
                        <Label text="18 screens" styleClass="text-small, text-muted"/>
                    </VBox>
                </HBox>

                <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <StackPane style="-fx-background-color: -color-warning-emphasis; -fx-background-radius: 6px;" minWidth="32" minHeight="32" maxWidth="32" maxHeight="32">
                        <Label text="PG" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="Payment Gateway"/>
                        <Label text="12 screens" styleClass="text-small, text-muted"/>
                    </VBox>
                </HBox>

                <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <StackPane style="-fx-background-color: -color-accent-emphasis; -fx-background-radius: 6px;" minWidth="32" minHeight="32" maxWidth="32" maxHeight="32">
                        <Label text="IA" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="Inventory Admin"/>
                        <Label text="15 screens" styleClass="text-small, text-muted"/>
                    </VBox>
                </HBox>

                <HBox styleClass="list-item" onMouseClicked="#handleProject" spacing="12" alignment="CENTER_LEFT">
                    <padding>
                        <Insets top="8" right="8" bottom="8" left="8"/>
                    </padding>
                    <StackPane style="-fx-background-color: -color-danger-emphasis; -fx-background-radius: 6px;" minWidth="32" minHeight="32" maxWidth="32" maxHeight="32">
                        <Label text="RP" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;"/>
                    </StackPane>
                    <VBox spacing="2">
                        <Label text="Reports Portal"/>
                        <Label text="8 screens" styleClass="text-small, text-muted"/>
                    </VBox>
                </HBox>
            </VBox>
        </ScrollPane>
    </VBox>
    
    <!-- Settings at Bottom -->
    <Button alignment="CENTER_LEFT" maxWidth="Infinity" styleClass="flat, left-pill" onMouseClicked="#handleSettings">
        <graphic>
            <HBox spacing="8" alignment="CENTER_LEFT">
                <FontIcon iconLiteral="fth-settings" iconSize="16"/>
                <Label text="Settings"/>
            </HBox>
        </graphic>
    </Button>
</VBox>
